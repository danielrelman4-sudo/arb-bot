# v8 profile: expanded universe + structural-bucket execution tuning.
# Purpose: keep broad opportunity coverage while letting structural buckets pass
# realistic fill/kelly gates.

# Use clean structural rules + strict cross-venue map
ARB_STRUCTURAL_RULES_PATH=arb_bot/config/structural_rules.generated.v3_merged.json
ARB_CROSS_VENUE_MAPPING_PATH=arb_bot/config/cross_venue_map.strict.csv

# Stream cadence / refresh
ARB_STREAM_RECOMPUTE_COOLDOWN_MS=2000
ARB_POLL_INTERVAL_SECONDS=20
ARB_UNIVERSE_HOTSET_SIZE=0
ARB_FILL_STALE_HALF_LIFE_SECONDS=300

# Expanded universe (critical for multi-leg structural coverage)
# Kalshi is intentionally tuned for reliability here; overly aggressive
# orderbook fan-out can intermittently yield zero-quote cycles.
KALSHI_MARKET_LIMIT=250
KALSHI_MARKET_SCAN_PAGES=8
KALSHI_MARKET_PAGE_SIZE=100
KALSHI_USE_ORDERBOOK_QUOTES=false
KALSHI_MAX_ORDERBOOK_CONCURRENCY=4
KALSHI_REQUEST_PAUSE_SECONDS=0.2
KALSHI_MIN_LIQUIDITY=0.0
KALSHI_STREAM_ALLOW_REST_TOPUP=false
KALSHI_STREAM_BOOTSTRAP_SCAN_PAGES=3
KALSHI_STREAM_BOOTSTRAP_ENRICH_LIMIT=0
POLYMARKET_MARKET_LIMIT=1200
POLYMARKET_MARKET_SCAN_PAGES=30
POLYMARKET_MARKET_PAGE_SIZE=150
POLYMARKET_MIN_LIQUIDITY=0.0

# Slightly tighter intra gate to reduce cap starvation
ARB_LANE_INTRA_MIN_NET_EDGE_PER_CONTRACT=0.0002
ARB_LANE_INTRA_MIN_EXPECTED_PROFIT_USD=0.0040
ARB_LANE_INTRA_MIN_FILL_PROBABILITY=0.90
ARB_LANE_INTRA_MIN_REALIZED_PROFIT_USD=0.0020

# Structural bucket lane: lower fill gate so multi-leg buckets are tradable
ARB_LANE_STRUCTURAL_BUCKET_MIN_NET_EDGE_PER_CONTRACT=0.0005
ARB_LANE_STRUCTURAL_BUCKET_MIN_EXPECTED_PROFIT_USD=0.0020
ARB_LANE_STRUCTURAL_BUCKET_MIN_FILL_PROBABILITY=0.70
ARB_LANE_STRUCTURAL_BUCKET_MIN_REALIZED_PROFIT_USD=0.0010

# Keep full bucket universe active for discovery in stream runs.
ARB_BUCKET_QUALITY_ENABLED=true
ARB_BUCKET_QUALITY_MAX_ACTIVE_BUCKETS=0

# Capacity limits
ARB_MAX_OPEN_MARKETS_PER_VENUE=60
ARB_MAX_OPEN_POSITIONS_PER_CLUSTER=12

# Cooldown is side-aware so opposite-side opportunities in the same market
# are not blocked unnecessarily during short paper runs.
ARB_MARKET_COOLDOWN_SCOPE=market_side
